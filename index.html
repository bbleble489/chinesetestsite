<!DOCTYPE html>
<html>
<head>
  <title>แหล่งรวมภาษาจีน</title>
  <link rel="stylesheet" type="text/css" href="css/theme.css">
</head>
<ul>
  <li><a href="#">เว็บรวมจีน</a></li>
  <li><a href="index.html">หน้าแรก</a></li>
  <li><a href="homeworks.html">การบ้าน</a></li>
  <li><a href="lessons.html">บทเรียน</a></li>
  <li><a href="books.html">หนังสือ</a></li>
  <li><a href="sheets.html">ใบงาน</a></li>
  <li><a href="files.html">ไฟล์</a></li>
</ul>

<h1>ยินดีต้อนรับเข้าสู่เว็บไซต์แหล่งรวมภาษาจีน</h1>
<h1>ท่านสามารถเลือกดูข้อมูลที่ท่านต้องการ</h1>
<h1>ได้ทางเมนูต่างๆของทางเว็บไซต์</h1>
<h1>ข้อมูลที่ท่านต้องการได้ถูกจัดเรียงไว้แล้ว</h1>
<h1>จัดทำโดยเลขที่ 12 32 37 38 41 ห้อง 941</h1>
<hr>
<b><h1>ข่าวล่าสุด</h1></b>

<table id="results" width="360">
    <thead>
      <tr>
        <th scope="col" width="45">วันที่</th>
        <th scope="col" width="250">เรื่อง</th>
        <th scope="col" width="45">หมายเหตุ</th>
      </tr>
    </thead>
    <tbody>
       <tr>
        <td>05/01/2024</td>
        <td>Test Name 2</td>
        <td>1</td>
      </tr>
      <tr>
        <td>04/01/2024</td>
        <td>Test Name 5</td>
        <td>2</td>
      </tr>
      <tr>
        <td>03/01/2024</td>
        <td>Test Name 4</td>
        <td>3</td>
      </tr>
      <tr>
        <td>02/01/2024</td>
        <td>Test Name 3</td>
        <td>4</td>
      </tr>
      <tr>
        <td>01/01/2024</td>
        <td>Test Name 6</td>
        <td>5</td>
      </tr>
      <tr>
        <td>31/01/2023</td>
        <td>Test Name 1</td>
        <td>6</td>
      </tr>
    </tbody>
</table>
<button class="sort-date sort-date--earliest">ใหม่ที่สุด</button>

<script>
 function convertDate(d) {
    var p = d.split("/");
    return +(p[2] + p[1] + p[0]);
}

function sortByDate(direction) {
    var tbody = document.querySelector("#results tbody");
    // get trs as array for ease of use
    var rows = [].slice.call(tbody.querySelectorAll("tr"));

    if (direction === 'asc') {
        document.querySelector(".sort-date").classList.remove('sort-date--earliest');
        document.querySelector(".sort-date").classList.add('sort-date--latest');

        rows.sort(function (a, b) {
            return (
                convertDate(b.cells[0].innerHTML) -
                convertDate(a.cells[0].innerHTML)
            );
        });
    } else {
        document.querySelector(".sort-date").classList.add('sort-date--earliest');
        document.querySelector(".sort-date").classList.remove('sort-date--latest');

        rows.sort(function (a, b) {
            return (
                convertDate(a.cells[0].innerHTML) -
                convertDate(b.cells[0].innerHTML)
            );
        });
    }

    rows.forEach(function (v) {
        tbody.appendChild(v);
    });
}

document.querySelector(".sort-date").addEventListener("click", () => {
    if (document.querySelector(".sort-date").classList.contains('sort-date--earliest')) {
        document.querySelector(".sort-date").innerText = "ใหม่ที่สุด";

        sortByDate('asc');
    } else {
        document.querySelector(".sort-date").innerText = "เก่าที่สุด";

        sortByDate('desc');
    }
});
</script> 

</html>